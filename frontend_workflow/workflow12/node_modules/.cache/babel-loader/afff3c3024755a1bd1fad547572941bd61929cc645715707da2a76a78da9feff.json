{"ast":null,"code":"var _jsxFileName = \"/home/aditya/Desktop/frontend workflow/workflow12/src/components/ViewWorkflows.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport './ViewWorkflows.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ViewWorkflows = () => {\n  _s();\n  const [workflows, setWorkflows] = useState([]);\n  const [jsonInput, setJsonInput] = useState('');\n  const [selectedWorkflowId, setSelectedWorkflowId] = useState('');\n  const [error, setError] = useState('');\n  const [successMessage, setSuccessMessage] = useState('');\n  const navigate = useNavigate();\n  useEffect(() => {\n    const fetchWorkflows = async () => {\n      try {\n        const response = await axios.get(\"http://localhost:8080/workflows\");\n        setWorkflows(response.data);\n      } catch (error) {\n        setError('Error fetching workflows.');\n      }\n    };\n    fetchWorkflows();\n  }, []);\n  const handleJsonChange = event => {\n    setJsonInput(event.target.value);\n  };\n  const handleSaveJson = async () => {\n    try {\n      const parsedData = JSON.parse(jsonInput);\n      console.log(parsedData);\n      // const parsedData = jsonInput;\n      const graph = await axios.post(`http://localhost:8080/execution/start`, parsedData);\n      setSuccessMessage('JSON data saved successfully!');\n      setError('');\n      const encodedData = encodeURIComponent(JSON.stringify(graphData));\n      const serializedData = encodeURIComponent(JSON.stringify(graph));\n      navigate(`/view-tree/${selectedWorkflowId}?data=${serializedData}`);\n    } catch (error) {\n      setError('Invalid JSON data or error saving JSON.', error);\n      setSuccessMessage('');\n    }\n  };\n  const handleDeleteWorkflow = async () => {\n    try {\n      await axios.delete(`http://localhost:8080/workflows/${selectedWorkflowId}`);\n      setWorkflows(workflows.filter(workflow => workflow.id !== selectedWorkflowId));\n      setSelectedWorkflowId('');\n      setSuccessMessage('Workflow deleted successfully!');\n      setError('');\n    } catch (error) {\n      setError('Error deleting workflow.', error);\n      setSuccessMessage('');\n    }\n  };\n\n  // src/components/ViewWorkflows.jsx\n  const handleEditWorkflow = () => {\n    const selectedWorkflow = workflows.find(workflow => workflow.id === selectedWorkflowId);\n    if (selectedWorkflow) {\n      navigate(`/edit-workflow/${selectedWorkflowId}`, {\n        state: {\n          workflow: selectedWorkflow\n        }\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"view-workflows-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"View Workflows\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-message\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"workflows-list\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Existing Workflows:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: selectedWorkflowId,\n        onChange: e => setSelectedWorkflowId(e.target.value),\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"Select a workflow\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this), workflows.map(workflow => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: workflow.id,\n          children: workflow.name\n        }, workflow.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"button\",\n        onClick: handleDeleteWorkflow,\n        disabled: !selectedWorkflowId,\n        children: \"Delete\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"button\",\n        onClick: handleEditWorkflow,\n        disabled: !selectedWorkflowId,\n        children: \"Edit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"json-input-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Input JSON Data:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        value: jsonInput,\n        onChange: handleJsonChange,\n        placeholder: \"Enter JSON here...\",\n        rows: \"10\",\n        cols: \"50\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"button\",\n        onClick: handleSaveJson,\n        children: \"Save JSON\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error-message\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 19\n      }, this), successMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"success-message\",\n        children: successMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 28\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }, this);\n};\n_s(ViewWorkflows, \"0mG2MtEmzY1iB/rlA27kHf9MXxU=\", false, function () {\n  return [useNavigate];\n});\n_c = ViewWorkflows;\nexport default ViewWorkflows;\nvar _c;\n$RefreshReg$(_c, \"ViewWorkflows\");","map":{"version":3,"names":["React","useState","useEffect","axios","useNavigate","jsxDEV","_jsxDEV","ViewWorkflows","_s","workflows","setWorkflows","jsonInput","setJsonInput","selectedWorkflowId","setSelectedWorkflowId","error","setError","successMessage","setSuccessMessage","navigate","fetchWorkflows","response","get","data","handleJsonChange","event","target","value","handleSaveJson","parsedData","JSON","parse","console","log","graph","post","encodedData","encodeURIComponent","stringify","graphData","serializedData","handleDeleteWorkflow","delete","filter","workflow","id","handleEditWorkflow","selectedWorkflow","find","state","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onChange","e","map","name","onClick","disabled","placeholder","rows","cols","_c","$RefreshReg$"],"sources":["/home/aditya/Desktop/frontend workflow/workflow12/src/components/ViewWorkflows.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport './ViewWorkflows.css';\r\n\r\nconst ViewWorkflows = () => {\r\n  const [workflows, setWorkflows] = useState([]);\r\n  const [jsonInput, setJsonInput] = useState('');\r\n  const [selectedWorkflowId, setSelectedWorkflowId] = useState('');\r\n  const [error, setError] = useState('');\r\n  const [successMessage, setSuccessMessage] = useState('');\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const fetchWorkflows = async () => {\r\n      try {\r\n        const response = await axios.get(\"http://localhost:8080/workflows\");\r\n        setWorkflows(response.data);\r\n      } catch (error) {\r\n        setError('Error fetching workflows.');\r\n      }\r\n    };\r\n    fetchWorkflows();\r\n  }, []);\r\n\r\n  const handleJsonChange = (event) => {\r\n    setJsonInput(event.target.value);\r\n  };\r\n\r\n  const handleSaveJson = async () => {\r\n    try {\r\n      const parsedData = JSON.parse(jsonInput);\r\n      console.log(parsedData)\r\n      // const parsedData = jsonInput;\r\n      const graph = await axios.post(`http://localhost:8080/execution/start`, parsedData);\r\n      setSuccessMessage('JSON data saved successfully!');\r\n      setError('');\r\n      const encodedData = encodeURIComponent(JSON.stringify(graphData));\r\n      const serializedData = encodeURIComponent(JSON.stringify(graph));\r\n      navigate(`/view-tree/${selectedWorkflowId}?data=${serializedData}`);\r\n    } catch (error) {\r\n      setError('Invalid JSON data or error saving JSON.', error);\r\n      setSuccessMessage('');\r\n    }\r\n  };\r\n\r\n  const handleDeleteWorkflow = async () => {\r\n    try {\r\n      await axios.delete(`http://localhost:8080/workflows/${selectedWorkflowId}`);\r\n      setWorkflows(workflows.filter(workflow => workflow.id !== selectedWorkflowId));\r\n      setSelectedWorkflowId('');\r\n      setSuccessMessage('Workflow deleted successfully!');\r\n      setError('');\r\n    } catch (error) {\r\n      setError('Error deleting workflow.', error);\r\n      setSuccessMessage('');\r\n    }\r\n  };\r\n\r\n// src/components/ViewWorkflows.jsx\r\nconst handleEditWorkflow = () => {\r\n  const selectedWorkflow = workflows.find(workflow => workflow.id === selectedWorkflowId);\r\n  if (selectedWorkflow) {\r\n    navigate(`/edit-workflow/${selectedWorkflowId}`, { state: { workflow: selectedWorkflow } });\r\n  }\r\n};\r\n\r\n\r\n\r\n  return (\r\n    <div className=\"view-workflows-container\">\r\n      <h1>View Workflows</h1>\r\n      {error && <div className=\"error-message\">{error}</div>}\r\n      <div className=\"workflows-list\">\r\n        <h2>Existing Workflows:</h2>\r\n        <select\r\n          value={selectedWorkflowId}\r\n          onChange={(e) => setSelectedWorkflowId(e.target.value)}\r\n        >\r\n          <option value=\"\">Select a workflow</option>\r\n          {workflows.map(workflow => (\r\n            <option key={workflow.id} value={workflow.id}>\r\n              {workflow.name}\r\n            </option>\r\n          ))}\r\n        </select>\r\n        <button className=\"button\" onClick={handleDeleteWorkflow} disabled={!selectedWorkflowId}>Delete</button>\r\n        <button className=\"button\" onClick={handleEditWorkflow} disabled={!selectedWorkflowId}>Edit</button>\r\n      </div>\r\n      <div className=\"json-input-container\">\r\n        <h2>Input JSON Data:</h2>\r\n        <textarea\r\n          value={jsonInput}\r\n          onChange={handleJsonChange}\r\n          placeholder='Enter JSON here...'\r\n          rows=\"10\"\r\n          cols=\"50\"\r\n        />\r\n        <button className=\"button\" onClick={handleSaveJson}>Save JSON</button>\r\n        {error && <div className=\"error-message\">{error}</div>}\r\n        {successMessage && <div className=\"success-message\">{successMessage}</div>}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ViewWorkflows;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}